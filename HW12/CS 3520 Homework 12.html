<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0045)https://pubweb.eng.utah.edu/~cs3520/hw12.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>CS 3520  Homework 12</title><link href="./CS 3520 Homework 12_files/css" rel="stylesheet"><style>td { vertical-align: baseline; } table, body, .mainfont { font-size: 18; }.schedule { font-size: 16; }body, .mainfont { font-family: 'Sorts Mill Goudy', serif; }h1, h2, h3, h4, h5, .head, .label { font-family: 'Titillium Web', sans-serif;  }.head { font-weight: bold; }a { text-decoration: none; }.highlight { font-style: italic; color: #000088 } </style></head><body style="bgcolor: white; width: 45em; margin-left: auto; margin-right: auto"><h2>CS 3520  Homework 12</h2><p class="label">Due: Wednesday, December 5th, 2018 11:59pm</p><h3>A Generic Interpreter</h3><p>The interpereters <tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lambda.rkt">number-lambda.rkt</a></tt> and
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/string-lambda.rkt">string-lambda.rkt</a></tt> are extremely similar.  The
former is our usual interpreter with first-class functions. The latter
has string expressions and values instead of number expressions and
values, and it was created by copying all of the code in
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lambda.rkt">number-lambda.rkt</a></tt> and modifying it to work with
strings.</p><p>Instead of copying the <tt>parse</tt>, <tt>interp</tt>, and <tt>lookup</tt>
functions, we’d like to have a single implementation that works with
both. We don’t want numbers to work in string programs or strings to work in
number programs, though; we want to keep the languages separate.
When we start with an S-expression, we will decide whether to parse
and interpret it as a number program or a string program.</p><p>The interpereters <tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lit-lambda.rkt">number-lit-lambda.rkt</a></tt> and
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/string-lit-lambda.rkt">string-lit-lambda.rkt</a></tt> are even more similar than
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lambda.rkt">number-lambda.rkt</a></tt> and
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/string-lambda.rkt">string-lambda.rkt</a></tt>, because the literal-expression
constructor is renamed from <tt>numE</tt> or <tt>strE</tt> to <tt>litE</tt> in both
interpreters. Similarly, <tt>numV</tt> and <tt>strV</tt> are renamed to <tt>litV</tt>.
New entry points <tt>parse/num</tt> and <tt>interp/num</tt> or
<tt>parse/str</tt> and <tt>interp/str</tt> will let us pick which kind of program
we want to parse and interpret.</p><p>Your task is to merge <tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lit-lambda.rkt">number-lit-lambda.rkt</a></tt> and
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/string-lit-lambda.rkt">string-lit-lambda.rkt</a></tt> into a single module with a
single implementation of <tt>parse</tt>, <tt>interp</tt>, and <tt>lookup</tt>. All
of the tests in <tt><a href="https://pubweb.eng.utah.edu/~cs3520/number-lit-lambda.rkt">number-lit-lambda.rkt</a></tt> and
<tt><a href="https://pubweb.eng.utah.edu/~cs3520/string-lit-lambda.rkt">string-lit-lambda.rkt</a></tt> should work unmodified with
the merged implementation.</p><p>To merge the implementation, you will need to change <tt>Exp</tt> to
be parameterized over a type for literals, so that <tt>parse/num</tt>
returns a <tt>(Exp Number)</tt>, and <tt>parse/str</tt> returns a
<tt>(Exp String)</tt>. You’ll have to parameterize other types, and
you’ll have to parameterize functions over other functions.</p><hr><table width="100%"><tbody><tr><td align="right">Last update: Tuesday, November 27th, 2018<address>mflatt@cs.utah.edu</address></td></tr></tbody></table>
</body></html>